/*
活动名称：批量店铺签到
活动链接：https://h5.m.jd.com/babelDiy/Zeus/2PAAf74aG3D61qvfKUM5dxUssJQ9/index.html?token=<token>
环境变量：jd_dpqd_tokens // 活动令牌，多个用英文逗号分割
        jd_dpqd_task_threads // 控制签到并发线程数（正整数），默认1
        jd_dpqd_account_threads // 控制账号并发线程数（正整数），默认1
        jd_dpqd_account_interval // 自定义运行间隔时长（整数，单位毫秒），默认0
        jd_dpqd_max_retry // 签到火爆时的最大重试次数（整数），默认0
        jd_dpqd_prize_notify // 是否推送中奖信息（true/false），默认不推送

此脚本为高并发签到本，需要读取主脚本生成的活动信息缓存，自动过滤无效活动

7 7 7 7 *

*/

const $ = new Env('批量店铺签到')
const jdCookie = require('./jdCookie')
const notify = require('./function/sendJDNotify')
const common = require('./function/jdCommon')
const { H5st } = require('./function/jdCrypto')

var iｉl='jsjiami.com.v7';const il1I1l1=ii1IIl1i;function ii1IIl1i(_0x36aaa4,_0x1b5c0f){const _0x32a26b=i1llIili();return ii1IIl1i=function(_0x1e8303,_0x2b02c9){_0x1e8303=_0x1e8303-0x79;let _0x3bc825=_0x32a26b[_0x1e8303];if(ii1IIl1i['soWhnM']===undefined){var _0x37dd73=function(_0x40a4b0){const _0x298f3b='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x18fdd8='',_0x2d78a2='';for(let _0x1e35db=0x0,_0x484d77,_0x5c41e5,_0x3fe0ab=0x0;_0x5c41e5=_0x40a4b0['charAt'](_0x3fe0ab++);~_0x5c41e5&&(_0x484d77=_0x1e35db%0x4?_0x484d77*0x40+_0x5c41e5:_0x5c41e5,_0x1e35db++%0x4)?_0x18fdd8+=String['fromCharCode'](0xff&_0x484d77>>(-0x2*_0x1e35db&0x6)):0x0){_0x5c41e5=_0x298f3b['indexOf'](_0x5c41e5);}for(let _0x7d5a6=0x0,_0x27978d=_0x18fdd8['length'];_0x7d5a6<_0x27978d;_0x7d5a6++){_0x2d78a2+='%'+('00'+_0x18fdd8['charCodeAt'](_0x7d5a6)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x2d78a2);};const _0x4203e9=function(_0x5af387,_0x47dc34){let _0x8f0a95=[],_0x557ae5=0x0,_0x3465a7,_0x29901b='';_0x5af387=_0x37dd73(_0x5af387);let _0x51468b;for(_0x51468b=0x0;_0x51468b<0x100;_0x51468b++){_0x8f0a95[_0x51468b]=_0x51468b;}for(_0x51468b=0x0;_0x51468b<0x100;_0x51468b++){_0x557ae5=(_0x557ae5+_0x8f0a95[_0x51468b]+_0x47dc34['charCodeAt'](_0x51468b%_0x47dc34['length']))%0x100,_0x3465a7=_0x8f0a95[_0x51468b],_0x8f0a95[_0x51468b]=_0x8f0a95[_0x557ae5],_0x8f0a95[_0x557ae5]=_0x3465a7;}_0x51468b=0x0,_0x557ae5=0x0;for(let _0x17e1b9=0x0;_0x17e1b9<_0x5af387['length'];_0x17e1b9++){_0x51468b=(_0x51468b+0x1)%0x100,_0x557ae5=(_0x557ae5+_0x8f0a95[_0x51468b])%0x100,_0x3465a7=_0x8f0a95[_0x51468b],_0x8f0a95[_0x51468b]=_0x8f0a95[_0x557ae5],_0x8f0a95[_0x557ae5]=_0x3465a7,_0x29901b+=String['fromCharCode'](_0x5af387['charCodeAt'](_0x17e1b9)^_0x8f0a95[(_0x8f0a95[_0x51468b]+_0x8f0a95[_0x557ae5])%0x100]);}return _0x29901b;};ii1IIl1i['IIGnFK']=_0x4203e9,_0x36aaa4=arguments,ii1IIl1i['soWhnM']=!![];}const _0x110c4f=_0x32a26b[0x0],_0xae3de2=_0x1e8303+_0x110c4f,_0x55ebb0=_0x36aaa4[_0xae3de2];return!_0x55ebb0?(ii1IIl1i['OFWaUu']===undefined&&(ii1IIl1i['OFWaUu']=!![]),_0x3bc825=ii1IIl1i['IIGnFK'](_0x3bc825,_0x2b02c9),_0x36aaa4[_0xae3de2]=_0x3bc825):_0x3bc825=_0x55ebb0,_0x3bc825;},ii1IIl1i(_0x36aaa4,_0x1b5c0f);}(function(lil1lil1,l1II1ll,I1liIl1i,li1I1lil,lII1ll,liIi1ili,Ii1iIii){return lil1lil1=lil1lil1>>0x2,liIi1ili='hs',Ii1iIii='hs',function(ili1i11,Illli11l,IlIIlII,lI11lliI,I11II11i){const Ii1lIi11=ii1IIl1i;lI11lliI='tfi',liIi1ili=lI11lliI+liIi1ili,I11II11i='up',Ii1iIii+=I11II11i,liIi1ili=IlIIlII(liIi1ili),Ii1iIii=IlIIlII(Ii1iIii),IlIIlII=0x0;const liIIi1i=ili1i11();while(!![]&&--li1I1lil+Illli11l){try{lI11lliI=-parseInt(Ii1lIi11(0x182,'Qej2'))/0x1*(-parseInt(Ii1lIi11(0x24d,'ZpbH'))/0x2)+-parseInt(Ii1lIi11(0x9f,'ZSlF'))/0x3+parseInt(Ii1lIi11(0xba,'8ltK'))/0x4+parseInt(Ii1lIi11(0x164,'S10E'))/0x5+parseInt(Ii1lIi11(0x81,'^eui'))/0x6+parseInt(Ii1lIi11(0x107,'pKPm'))/0x7+-parseInt(Ii1lIi11(0x226,'yX6&'))/0x8;}catch(il1l1liI){lI11lliI=IlIIlII;}finally{I11II11i=liIIi1i[liIi1ili]();if(lil1lil1<=li1I1lil)IlIIlII?lII1ll?lI11lliI=I11II11i:lII1ll=I11II11i:IlIIlII=I11II11i;else{if(IlIIlII==lII1ll['replace'](/[qVOrnEFltRbWuMgD=]/g,'')){if(lI11lliI===Illli11l){liIIi1i['un'+liIi1ili](I11II11i);break;}liIIi1i[Ii1iIii](I11II11i);}}}}}(I1liIl1i,l1II1ll,function(IIIIlI1l,i1l1Ilii,IIIillIi,I11iIiii,IIlii1li,iII1Ii1,i111l1I){return i1l1Ilii='\x73\x70\x6c\x69\x74',IIIIlI1l=arguments[0x0],IIIIlI1l=IIIIlI1l[i1l1Ilii](''),IIIillIi=`\x72\x65\x76\x65\x72\x73\x65`,IIIIlI1l=IIIIlI1l[IIIillIi]('\x76'),I11iIiii=`\x6a\x6f\x69\x6e`,(0x17202c,IIIIlI1l[I11iIiii](''));});}(0x31c,0x9fab0,i1llIili,0xc9),i1llIili)&&(iｉl=i1llIili);let tokensList=(process[il1I1l1(0x1a2,'dNpS')][il1I1l1(0x17b,'R[Ks')]||'')[il1I1l1(0x221,'iy!#')](',')||[],taskThreads=process[il1I1l1(0x9a,'c4(!')][il1I1l1(0x93,'gSMa')]||'1',accountThreads=process[il1I1l1(0x24b,'*g^7')][il1I1l1(0x130,'ZSlF')]||'1';const runInterval=process[il1I1l1(0x16b,'114a')][il1I1l1(0x1a5,'runq')]||'';let signHotMaxRetryTimes=process[il1I1l1(0x231,'yI)F')][il1I1l1(0x179,'R[Ks')]||'0';const isNotify=process[il1I1l1(0x1be,'mNJt')][il1I1l1(0x23d,'yI)F')]===il1I1l1(0x160,'pKPm');let TokensMap=new Map();const signStatusMessages={0x1805c007:il1I1l1(0xa3,'yX6&'),0x181688ea:il1I1l1(0x175,'FqYm'),0x1843da61:il1I1l1(0xa8,'pKPm'),0x1843da62:il1I1l1(0x145,'cx^%'),0x184253c7:il1I1l1(0x1fd,'KDoB'),0x192:il1I1l1(0x220,'$eG['),'-1':il1I1l1(0xaa,'6i^)')},invalidTokensMap=new Map(),CacheFile=__dirname+il1I1l1(0x129,'ucGP'),cookiesArr=Object[il1I1l1(0x155,'dJ#$')](jdCookie)[il1I1l1(0x1cd,'*YUs')](l1lllI1i=>jdCookie[l1lllI1i])[il1I1l1(0x1e3,'lxnS')](l11llii1=>l11llii1);function i1llIili(){const ll1Illl=(function(){return[...[iｉl,'VljtglsWunjilqWarElmOiD.FcuEoVbmRRF.vMu7==','rrNcUmkqWOO','bCkiWOBdUmkb','DSkncW','Bmo+hYFcNa','qvVcJCk7oW','WRZcOxJdPmkK','4P6eWO/MNjtOGlZMRlpNOiBLPyZNK4CB','W7rtymkhWRaCW6RcUH/cJHK3Ba','WOBcM04vDq','WRnTWOu0bSk+','WRSYWRRdJSk6pG','5lQ65Psk5Bsh56+E','FrlcV0JdGq','W7FdJqtcNuG','hmkSWQldJSkl','5BMi6zk056wY5yUd8ygFSU+5Pa','5RwJ5yQO5BcW5P2h5B+J5As4','qWZcGCkx','5P6t5yUF5zMh57U05B6N','W4OwWPfTW50','zcVcTmkrWOC','WP8HoCkPW4bul8kvW4jD','W7bqWR0nBq','WR9/WOy','DCkpeSkgW5m','nCkiuG','BpggKi8','4P+YWOVOHzxMN5VOV7pOOPBPG6RLIRlKUlRPLzhORzmk','WRC6W6NcTCkkv0tcSbxdMGZcP8oeax3dM8k1W7G/zmoxB35J','lr88W5ZcSW','x8oEW4aqW48','WQGVW7tcSCkTbaBdUG','WQrnWRiqfW','oSovWOPGWPy','WOrMW48KWQlcJ8odWPb/iHpcTNm','yUkDLSka4P6etG','h8kBWQZdTmkW','EmokWPa','WRPWWRa+na','furlW4K3','WQT9WPOxmq','WR9tWRiLma','WPHKW7e','W6VdGshcOLC','WQvyWOCucG','WQj7WR/dGNq','e2yCymkQ','dgjdkCkr','ymoHW6yzW78','WPPxWQNcLa','zVgeGO4','WQ/dIKRcJduBo8kGxh8','WOT6W5TyW5a','WPHnW73cJmk2','lEkFGuhIN55F','lNhdSSoRnW','E0FcU2mI','WOHaWRxdMgS','WOnXW7pcMCkN','5ysZWQRLJPtWT42z','WRDpWP7cMmoepG','scGGW7mg','WQb8W4y','rCohW6C7W7G','WRtcIhpdMa','W541WOHjW5G','W5PxWOVdSc8','W4OpW67cKmkBWPbWWOTMiSkld8o7k0KLWRn4Fmok','6lww5yYy5Psv5PEOW7JWV6UD','44oK6lwI5y6R','fCkbtq/dMa','WPWWkmkPWP4pBmotW5WnvCoNW6vCW4ldRCoTiSkyaG','WRqspmoxW7y','WRf2WR/cQmoh','WRSpc8kFWOK','W77dQmofWOdcQZWKW6jFWPi','W4DxWPGktW','WRvqWRG8aG','hmk4aSk0','WOKQW6FcS8kE','weFcUgqJ','W4mfWOTIW44','e0nTnmke','WQOrnW','WOCNlSkWWP1b','aqSTW4pcTG','WRBcOKKNxq','W4ZdJH/cKeW','W40PW5NcUmkb','rW7cL3q','iSkfW4O8','tmoWka','pgJdH8ojkG','oLpdH8oSfq','AJGpW4C+','jSkMW6BdHrW','WPPcW4btW68','W5PIWPm8e8k0Cx8vWOvdW4ehW6pcImkyW5K','WOf4WOpcKSo7','sWJcM8krWP9a','WPXDWQ7cNCo6qW','W7eoW7JcPSk4','WOGJWRZdUSkI','WRqwmComW7zzWOVcGHpcRW','WPOMWO3dRSkz','k8oeBXDC','WQPwW64','CH/cRmkMW4zDlW','WRhcRvZdPCk4','WQBcKuK6uW','vedcVhmh','BdCzx8orW4j+W5mklaHIxG','WOjpWQhcSSoS','BKdcI3i','eSktW4tdOIm','ncC3W5xcUq','W7GDWOzaW7y','WPddHNlcIZ0','WPjXWP7cPmoQ','W6eyWODhW5y','oM9faCkgWPiN','44og5O+S56Ex44oG6k2u5ysy6i2K5y2QqhNdGCkTW6XR','5l+45Ocd5yIa8kshTU+4SW','W5r7WOSpCq','lCkxW5qWWQv9','mCkIW4NdPXO','WOhcJLudAG','heVdLmoyma','B3VcUSkJha','pmoXBYLw','WQ96W685WOq','rSoSaCk7kq','ofVdN8oKfa','W7JIN5ZdV+kFO8oU','EmkaemkfW7a','WRqgWRRdTSk+','WOmLnCkTWRLClSkz','gwldSSoRlW','gttcJa','m3ij','WRj5W4LKW7m','l3r6h8kH','WQ3dOwtcLrS','rW0BW7y0','WQSLWQS','k0HVymkDmhZdPY8dydHzymk6zCk9','CXxcUa','WObNW4KIWQVcJ8olWR1QkZZcVei','WOHPWQhdHKe','W7BdPqVcQeO','i8krW5mFWQ5YWRS','WRBcPKOFCG','WQ0gd8oAW7jBWRJcTaBcPaSjASkCWQ03ohhcLSo6emkdAa','A1HwDmkH','WR1BWONcT8oN','qCogW4yDW5/cLq'],...(function(){return[...['WRpcOcT3W4BcQ8kovIS','5lUR6lgA8jUIRG','zfBcGumm','WR1zWOelaa','WP/dON3cRbS','WPlcLuVdQSkt','nXW8sG','W5WyWRTjW70','tuvmymkC','WRnJW6dcHSko','W7Khsmo6mW','W6yQW4/cSmkb','DYRcVNVdJW','lWOR','WQ4OWOVdM8kA','WP4lmSkpWQC','BSoSnX3cIG','5RsB5yI35BA957Q957Ik5P+O','WQv/WP8PnCk5W7fl','n8kftHZdSG','bSogqJ5fWQxcU8o6WQ/cPXijBsRdK8oLksJcHSoD','4PQnWONOHyVLR4lKU6tOVlFOO4tPL5/PMBlMLBxPLPpORlNNV5hPLOVORji','nCkUpSkQWPW','Eb/cQ8kzW4HDi0WtWRyBWP4psW','W5ldHcG','WOikh8ouW6u','xSobW4G+W5K','d8omWOr5WRi','g8kNW58sWQu','W41TWOKK','W63INONcIoIUTUAYOUwLOEI1PU+8NG','smoeW5awW48','WPjqWRtcVCoi','W53dHCkgWP4','WRS9lSklWQi','nZWz','mqaCsgu','WPOTWPBdHSkA','satcNxBdRCoj','mhyjwq','g8kLW5JdRXC','WRvDWPNcKSol','wcdcR8k1yLuHWQ9AkxxdSSko','ohitx8kjW7e','lhjFca','xxZcMSkrlG','Bb/cQW','WRLHW5RcTCkh','W6T9WQRdSCojxL7dKWldMrZdR8oy','W4b3A8oTW50gDSkWW4jlaSoSWRO','WPpcHKW','WRJdR1vmW5u','5P+A552y5Aw75zok776X','i8kZW4xdMdS','WPCRomk8','AehcMq','WRVdHeVcJZeflq','77YA8yERLG','vf3cJKy4','W4tdHCkEWONcGg87W7qIWRJdLmk4','evD1W68K','sa7cLa','nHaUW7BcIG','xSo/rCoOWP97WRLxWOhcNa','WRnaW7vqW68hW6BdPNS','5BAW6l205yQq56+/5yME5lU36zUB','WPlcHcPZW48','W67dSdRcSxa','vGtcGMtdVmosiq','mtCHW5tcKCkxlmoEfJHTWO7dM8kvBmkdW6i','qd3cTa','mtCHW5tcKCkxlmoEdZz+WRtdH8kd','imklW4a','WO5vWQhcU8oo','W6jkWPhdTZi','hCofWQrS','q0NcMhiZ','ngvecSkxWPS','wclcQ8oApsLFWOjq','xuVcP8kGhq','cty1r0W','uoISMoAYT+wrREw5JmkJ','guhdS8ofmq','Bq3cVSkDW4u','b+kFSCov4P+ZW4S','AcuiW6eloMXAW7DX','W5KwwCoqeq','WOCLmCk8W4bAmCkvW5nrfq','DHtcVmk5W5jEl1e','sbJcGCkWWODjsq','xSkAbq','D8o4pmkdma','sSoNW685W44','W45TWPKVwSoNzG','W7DGWQC','W67dL8kEWRZcLa','Fe9rzmkG','WRuZWRG','WRxcN3tdIq','tmo6irxcRCoF','WRPCW75B','DrpcOKVdQa','n3Gzxq','W7JIN5ZdV+kEQSoU','WPu2W4JcTCkn','W4xdKmktWOtcSG','w8obW7uSW7K','kSkzFdhdJW','gSolWR5UWRldNSkQgq','ibBcVtr0','WRXDW6W','W4RdLHZcM29xWRddJZut','emksW7JdKbW','r3NcT8kgo3b9hxXgE8oBnmkHmetcK33cMmkVW5XKWOZdLq','4PIEWOVOHQxLRA3KUAROViROO6hPLBBPMkJMLR7PL4pORR7NVP3PLPJORPa','WOJMTldLIl7LP4NNGORNI7i','WRuhamozW60','pr/dNW','W4GgsCoJdq','C012zCkTbMxdRq','WRtcHMNdNa','W7tdKHBcNLS','DmkgcCkQW47dRmk5DN/dOeJcIWZcSW','WP7cGMxdMCkn','WPPEWOJcO8o9','WQddIL/cPtuAoW','WRiRW67cTSkycG4','W7muW4pcJCkp','W4mAWRLzW7S','BSoOotxcMG','wmoDW4D1WPu','WR4+W7tdQ8kuqWhdU1RdIqRdPa','WPBcUNi3ta','WR5WW5W','WPldGKFcOWG','WRFcTtbQ','sCoiW5u5','WPpcL1KFu08HW77dPxy','W5H2WOW','rbxcPmkoWOe','amonuZPA','W7irsa','h8kKfSkYWQPMWO1rWP7cI07cGJZdQCoU','gt7cHqrxoW','kSknW78xWRi','nZyqW5FcLCko','zUkDSqBINixcUG','W4OpW67cKmkBWPbWWOTPm8khg8oQhvapWOX5ymooob/cS8oRW5/cTmopvCofW4veWOm7wCkSWObjxSooWO4','Ba/cVmk2W4jjoq','BokDUmkh6k6U5Rka5AsI6lE5776Q5PsI5zk55BUP5PAV5O6Q77+L8yg5QG','WOPKW4KzWRC','fCkpvq','iCkYW5pdOYS','W5pdIJ8','W4dINB8y4PYHbW','WOCHka','zhtcU8ktlG','pmofWP5SWRC'],...(function(){return['j2JdTmoLeq','WPmOhCowW4u','sCoXpbFcQ8od','WPX+WQVcLCoz','WQ05W7ZcJCkB','ifPRlmkP','WQWLkmkyWR0','WPvtWOpcHCogpSkNWPfxB8oEWQm','rXpcK8kFW4O','W5NdJJVcVXBcQCoz','gSkVW6NdPJC','WP0Qp8k1WPHrjSkp','WQG7W4FcOSkW','WQKRW7pcOCkChYldUW','W4P5WPm4','cSkcW4OPWOW','WPmkWORdO8kR','WQT8W4q1WOuI','W44SW57cJCk4','W4y9WQ9fW5K','kYexW4RcHmkQiCoYdW','W6qjW6ZcKmkg','4PYkW43MNiZOGRtMR7NNOjpLPPRNKPaM','W4uKWPj6W68','WQbxWQ88bW','WPHUWOy4mq','WPNdK05NW4ZcLmonW70','W5XaWP3dGXDd','pfe+A8k+','WRGRW6K','W5FdHaK','e8kaWPhdHq','WPRdSwHrW58','WQz7WO4PtSkGW7bpW73dVW','WOldHmkEW57dTq','W5ldICkmWO7cQxm5W6u','gw0FAmkZ','WPFcGLezC1uBW7i','WQNdJeRcQcybpmk4CN4','WOXkWQtcICoi','WOtcGKWm','sI7cPCkWWOa','mCkRW7tdHdC','6lEw5y+p5PsG5PAY','W5OXWPb0W6/dLW','i3yuta','W5akWOjgW7K','WP04W4/cP8kT','xCoDW74OW4tcIq','WR18W7KxWQi','WOvLW44QWQNcICofWQjLbq7cRMi','nxqjuCklW7ddKCorWRKe','WRpcOdHSW5ZcV8kWwsBdHa','W4ekWR0','h8olWQjGWOFdI8kng8kjW5q','at7cMbC','tSoWoa','WQ7cU3r9W4FcVSku','smoBW5m3W58','dM9CW50W','FCkcemkm','W5BdHXVcNwa','W6TIWQmhtG','gGO0qxm','ldixW4tcTCkpjCoK','ucdcTmkKW7e','WODVWOtcTCoa','cSkKhCkOWOX7','lfJdTmotmq','mSk/W5pdQq','DuJcRguI','nmklW64YWOC','smosaq','a8omW71oWQJcK8kJgSojW7Lgo8kBWPRdNmoVBrKk','WPfrWQ/cRCkpWR1DWRfE','W70rs8oq','FbxcSCkZW45D','WP/dIwrUW6e','5RET5yQu5Psn5PA5','p8kuW4SWWRy','cEA1OowjG+wLIEEbIoEjLq','WRf0WRBcKCol','WR/dJLFcTqqbjCkK','WQf6W48','rSoCW4lcKCoOWRnoeuShW7y3sG','WRxcIMZdS8k2','W6/dICk+WO/cOq','W5DaWOC','tCoSka','WPvNW7O','sN5BFSk3','tGpcLSkAWP5msZG','WODlWRtcGSoO','pmkmkmkYWQC','wJxcMCkZW5a','EHtcQq','W4OkWQDVW6BcPq','W5CnymoWcW','zdmsW7Cnpq','emkpuGBdUa','WOZcHLyku1q','Dmo8p8kFmG','qCogW4y','4PYkW43OHlZMNAxOVyROOlhPG5NLIQBKUOdPL7dORPddSG','W4e1WP17W4m','W7tdLSkTWO/cKG','gmovWRTCWOm','Dr7cGmkXW5DllN0WWRatWPaFz8kDWPFcVwfasa','WQzoWQtdGKzsWRLJ','p8kPArVdUa','aZ7cHqDgiCktWRS','W7SiW5BcV8ke','o8kTW7tdTay','WOD7W7RcISkv','hwu+Cmk5','WQPyWQiYda','kSkisc7dRHu','WQeJWRpdPCkE','tv9qvmkm','WOdcPKtdK8kA','WQrLWOJcP8oS','Admx','DokEI13INBtdNq','r2NdN1DviCkcWRuzqq','4PUpWOJOR4hLHjpLRQ3KUQ/LVjVOPjxNMz/NJA3LO6pLJO7PH5hLKyZLHlhOVyxOOlBOHzVMN43VVRi','WRz/WOi8','tCktW6m/W5tcJSoUgSkRW6vDj8kG','W5avW7VcH8kDWOjeWPzcoa','W48eW7tcKSkDWPK','W6GFW7xcJIClWOfbW50anHy','WPRORydMSkZLKlFLUPye','W5u0ESo5gW','W6SUW45LvmoGW4LPW5RdPYen','WPlcHMGksa','xr3cHCkCW4i','WPu3l8kWWOPB','W6OBxmob','WP5wWR/dPf0','WPnxWQtcNW','W4NdGW/cIhzxWQpdHZuA','z0n7Da','gmkkWPtdHmk9W7ef','WOnQW7/cL8k1WP15aa','kmo0WOziWQ0','WQGYWRhdImkB','dezji8k2','5yAZ57IF5yYO8j2vNG','eSoSWQr/WQO','A0BcGxyAWOn/','WOlcIh/dRSkf','tqNcQSksWPTzsHr6rsaMW5hdH2KiW5/cV1hcRq','WQOPW67cNCkG','v8ojb8kdcmkLW61kWPvZ','WPmdWPJdTSkP','WR5XWPe'];}())];}())];}());i1llIili=function(){return ll1Illl;};return i1llIili();};!cookiesArr[0x0]&&($[il1I1l1(0x195,'P%Te')]($[il1I1l1(0x20e,'c4(!')],il1I1l1(0x111,'$eG[')),process[il1I1l1(0x196,'bb(U')](0x1));!(async()=>{const iiillil1=il1I1l1,llIiI1il={'DlYLk':function(iiiilliI,iI1i1i1){return iiiilliI===iI1i1i1;},'veKNk':function(ililIiI1,iliI1II,IIll,Il1lIili,il11lili,i1iIii){return ililIiI1(iliI1II,IIll,Il1lIili,il11lili,i1iIii);},'vYJZk':function(IllIIIII,i111II11){return IllIIIII(i111II11);},'PAYnN':function(IIIiiilI,I11liil){return IIIiiilI>I11liil;},'aqkQe':function(lil11II,IilII1i1){return lil11II<=IilII1i1;},'vSDMv':iiillil1(0x79,'riPh'),'VxfVs':iiillil1(0x1b6,'XDqO'),'gNNac':function(l111l11i,i11IllI){return l111l11i===i11IllI;},'QPVEK':iiillil1(0x184,'H!QN'),'oGwVa':iiillil1(0x1cc,'FqYm'),'Yoxny':function(l1I1iIli,l11llill){return l1I1iIli(l11llill);},'RPsmg':function(lII1i1iI,l1li1I){return lII1i1iI>=l1li1I;},'ALvkE':function(i1lll11l,lI1i1l){return i1lll11l===lI1i1l;},'TbiDr':iiillil1(0x235,'8av4'),'EhOjg':iiillil1(0x8d,'P%Te'),'MHGAR':function(lIiIII1,i11I1l1I){return lIiIII1!==i11I1l1I;},'TJMhG':iiillil1(0xab,'Jd$i'),'PYdcM':iiillil1(0x219,'iy!#'),'OZkqV':iiillil1(0x149,'XDqO'),'EOFfw':function(IIi1iII1,Iii1l11l){return IIi1iII1(Iii1l11l);},'KJULe':function(I1I111I,liiil11){return I1I111I!==liiil11;},'MzjgJ':iiillil1(0x13f,'tW!@'),'ammnM':function(liii1lI,IIIII1){return liii1lI>IIIII1;},'kcmlQ':iiillil1(0xd2,'Z*6B'),'BmIiT':iiillil1(0xe9,'8ltK'),'GqaXW':iiillil1(0xe7,'S10E')};try{notify[iiillil1(0x21e,'yI)F')]({'title':$[iiillil1(0xf2,'iy!#')]});if(llIiI1il[iiillil1(0x237,'1f!y')](tokensList[iiillil1(0x232,'Jd$i')],0x0))tokensList=[...new Set(tokensList[iiillil1(0x215,'lM02')](i11IlIil=>i11IlIil!==''))];if(llIiI1il[iiillil1(0x23c,'ATJ*')](tokensList[iiillil1(0x15a,'sc5u')],0x0)){console[iiillil1(0x1c1,'6i^)')](llIiI1il[iiillil1(0xb8,'^eui')]);return;}const I1IlII=llIiI1il[iiillil1(0x1b8,'#$FH')](require,'fs');if(I1IlII[iiillil1(0x189,'*g^7')](CacheFile)){const lIl1i11l=I1IlII[iiillil1(0x16f,'dJ#$')](CacheFile,llIiI1il[iiillil1(0x1aa,'6i^)')]),illIiII1=JSON[iiillil1(0x161,'runq')](lIl1i11l);for(const l1illIiI in illIiII1){if(llIiI1il[iiillil1(0xe5,'^eui')](llIiI1il[iiillil1(0x8c,'ATJ*')],llIiI1il[iiillil1(0x137,'^eui')])){const iIiI1ll1=i1IlI11[lI1IIlil[iiillil1(0x89,'ucGP')]]||i1lil1II[iiillil1(0x198,'dNpS')]+iiillil1(0x1a7,'Z*6B');[0x1843da61,0x1843da62,0x192][iiillil1(0x1dd,'#Mu!')](ililIIi[iiillil1(0x87,'KDoB')])&&lI1I1II[iiillil1(0x1b9,'lxnS')](lIIi1ili,!![]),I1i11liI[iiillil1(0x141,'H!QN')](''+llII1liI+i1lili11+iiillil1(0x1ce,'#$FH')+lii1Iil+'\x20'+iIiI1ll1),(llIiI1il[iiillil1(0x154,'$eG[')](llliiIil[iiillil1(0x16a,'#Mu!')],'-1')||llIiI1il[iiillil1(0x101,'riPh')](IiIliII1[iiillil1(0x19a,'%99n')],-0x1))&&(Il11111i=!![]);}else TokensMap[iiillil1(0x128,'P%Te')](l1illIiI,illIiII1[l1illIiI]);}}$[iiillil1(0x120,'#Mu!')]=null;if(runInterval)try{const li1111I=llIiI1il[iiillil1(0xd1,'a[Ij')](parseInt,runInterval);llIiI1il[iiillil1(0x176,'5)1X')](li1111I,0x0)&&(llIiI1il[iiillil1(0x223,'KDoB')](llIiI1il[iiillil1(0xc7,'pKPm')],llIiI1il[iiillil1(0x14d,'ZSlF')])?iliII1II[iiillil1(0x171,'sc5u')](''+iIlIIi1i+Ii1il1Ii+iiillil1(0x188,'gSMa')+Il11liIl+iiillil1(0xb2,'iy!#')):$[iiillil1(0x146,'^eui')]=li1111I);}catch{llIiI1il[iiillil1(0xc8,'XDqO')](llIiI1il[iiillil1(0x1d3,'ZSlF')],llIiI1il[iiillil1(0x10a,'FqYm')])?console[iiillil1(0x12a,'yI)F')](llIiI1il[iiillil1(0x213,'yI)F')]):lIIIi1i1[iiillil1(0xa1,'^eui')](lIIlllil,iliilI1l);}try{const liillil1=llIiI1il[iiillil1(0x230,'yI)F')](parseInt,signHotMaxRetryTimes);signHotMaxRetryTimes=llIiI1il[iiillil1(0xf5,'Qej2')](liillil1,0x0)?liillil1:0x0;}catch{signHotMaxRetryTimes=0x3;}try{const llIilili=llIiI1il[iiillil1(0x211,'H!QN')](parseInt,taskThreads);llIiI1il[iiillil1(0x249,'bb(U')](llIilili,0x0)&&llIiI1il[iiillil1(0x1e2,'P%Te')](llIilili,0x1)&&(llIiI1il[iiillil1(0x80,'6i^)')](llIiI1il[iiillil1(0xa5,'2!T8')],llIiI1il[iiillil1(0x1d2,'Qej2')])?IiIlli1l=0x3:taskThreads=llIilili);}catch{taskThreads=0x1;}try{const IllIlIlI=llIiI1il[iiillil1(0x15c,'FqYm')](parseInt,accountThreads);llIiI1il[iiillil1(0x116,'#$FH')](IllIlIlI,0x0)&&llIiI1il[iiillil1(0xae,'mNJt')](IllIlIlI,0x1)&&(accountThreads=IllIlIlI);}catch{llIiI1il[iiillil1(0xe5,'^eui')](llIiI1il[iiillil1(0x11e,'c4(!')],llIiI1il[iiillil1(0x159,'P%Te')])?(iiiiilI1=iII1lI1I[0x2],li1IiIli=i1ilI11I[0x1]):accountThreads=0x1;}await common[iiillil1(0x1a0,'ATJ*')](accountThreads,cookiesArr,async(iiiI1iIi,Il1l1Ili)=>{const liI11iII=iiillil1;await llIiI1il[liI11iII(0x200,'Jd$i')](concMain,taskThreads,tokensList,iiiI1iIi,Il1l1Ili,Main);if($[liI11iII(0xb7,'S10E')])await $[liI11iII(0x1e0,'mNJt')]($[liI11iII(0x1f7,'#$FH')]);}),isNotify&&notify[iiillil1(0xcb,'TDXo')]()&&await notify[iiillil1(0xe6,'lM02')]();}catch(l11i1Iii){if(llIiI1il[iiillil1(0x190,'XDqO')](llIiI1il[iiillil1(0x1ca,'lxnS')],llIiI1il[iiillil1(0xc6,'%99n')]))console[iiillil1(0x238,'XDqO')](iiillil1(0x239,'8av4')+l11i1Iii);else{const iIIIli1i=llIiI1il[iiillil1(0x117,'Qej2')](liiIll11,iIl11I1);I1Il1I11=llIiI1il[iiillil1(0x22f,'lM02')](iIIIli1i,0x0)?iIIIli1i:0x0;}}})()[il1I1l1(0x15d,'$eG[')](i1iii1Ii=>$[il1I1l1(0x133,'XDqO')](i1iii1Ii))[il1I1l1(0x91,'114a')](()=>$[il1I1l1(0xd8,'bb(U')]());async function Main(Iil1lIlI,II1Ii1ii){const illll1iI=il1I1l1,IiIii={'rePgo':function(iIIIIiI,IllIl1I){return iIIIIiI!==IllIl1I;},'XiLJm':illll1iI(0x18e,'riPh'),'rwaHb':function(Iiili11I,Il1ii1iI){return Iiili11I===Il1ii1iI;},'NRDoN':illll1iI(0x113,'mNJt'),'HRxGl':illll1iI(0x20f,'*YUs'),'vhTtT':illll1iI(0x1c2,'lM02'),'lFeYp':function(lill1iiI,II11Ii1l){return lill1iiI===II11Ii1l;},'OKWFd':function(l1Ili1I,llIIi1il){return l1Ili1I===llIIi1il;},'NfweE':illll1iI(0x126,'TDXo'),'sSmGj':illll1iI(0x1eb,'^eui'),'Ghveo':function(iiiilI1,lilIIi1l){return iiiilI1>lilIIi1l;},'otYTh':illll1iI(0xa0,'#$FH'),'bQgJU':illll1iI(0x214,'$eG['),'VAqJz':illll1iI(0x112,'#$FH'),'ugsXY':function(ii1l1l1I,ili1l1Ii){return ii1l1l1I/ ili1l1Ii;},'rYeVO':function(llllilil,iilIllil){return llllilil!==iilIllil;},'RIAfO':function(iil1ll1l,llIi1Iii){return iil1ll1l===llIi1Iii;},'xZAAJ':function(IIIiiI,i1liIilI){return IIIiiI(i1liIilI);},'wtPrB':function(llllil1I,I11il1ll){return llllil1I>=I11il1ll;},'GwNOD':illll1iI(0x1a6,'*YUs'),'KCGYg':illll1iI(0x1d9,'$eG['),'VzYKq':illll1iI(0x98,'gSMa'),'yclJP':illll1iI(0x192,'ZCEU'),'wFqIk':illll1iI(0x1f4,'dJ#$'),'dlFDr':illll1iI(0x1c7,'tW!@'),'VErrU':illll1iI(0x148,'riPh'),'kHtrL':function(iIiiIIII,lll1l1ii){return iIiiIIII(lll1l1ii);},'saTEY':function(illlii1I,ilIli11l){return illlii1I(ilIli11l);},'ltZxU':illll1iI(0xbd,'iy!#'),'FJjQj':illll1iI(0xb4,'S10E'),'JPzdK':illll1iI(0x174,'dNpS'),'emqNb':function(I11ilili,iilIi11i){return I11ilili!==iilIi11i;},'BfRAW':illll1iI(0x199,'sc5u'),'otIeX':function(Ili1IliI,ll11II1l){return Ili1IliI!==ll11II1l;},'piQVB':illll1iI(0x9b,'cx^%'),'UjnUt':illll1iI(0x17a,'Qej2'),'YoSdq':illll1iI(0xf9,'mNJt'),'ZmybX':illll1iI(0x21b,'ATJ*'),'VKfwa':illll1iI(0xad,'#Mu!'),'kgdFD':illll1iI(0x1f3,'^eui'),'rIYaf':illll1iI(0x1b7,'S10E'),'pVOBV':illll1iI(0xdf,'#Mu!'),'boGxd':illll1iI(0xec,'#Mu!'),'NwvGC':illll1iI(0x20b,'5)1X'),'IrCHD':illll1iI(0x18b,'#Mu!'),'mCPFk':function(III1Iil1,ililliIi){return III1Iil1===ililliIi;},'ayeYU':function(IIliilIi,l1IllIi1){return IIliilIi<l1IllIi1;},'TFcNU':illll1iI(0x12d,'2!T8'),'WDncX':illll1iI(0x1b4,'Jd$i'),'xgCrT':illll1iI(0xe3,'dJ#$'),'ZvIxk':function(lii1IliI,ill1I1iI){return lii1IliI===ill1I1iI;},'Dclil':illll1iI(0x228,'dJ#$'),'NIxSm':illll1iI(0x124,'dNpS'),'jOnVJ':function(ll1iiI1,I1lIIIl1,IllIli1){return ll1iiI1(I1lIIIl1,IllIli1);},'JxUpt':function(lI1i1Il,i1IIiIll){return lI1i1Il>=i1IIiIll;},'jfHYs':illll1iI(0x16e,'114a'),'ygTuh':illll1iI(0x12c,'a[Ij'),'lCWnS':illll1iI(0xe4,'mNJt'),'jrxTL':illll1iI(0xd5,'*g^7'),'hnFcU':illll1iI(0x147,'8av4'),'wachX':function(l1ii1l11,iIlilll1){return l1ii1l11||iIlilll1;},'jLEZf':illll1iI(0x13e,'6i^)'),'YsLYX':function(iiiII1II,l11iIilI){return iiiII1II<l11iIilI;},'YcOvu':function(II1I1ll,IilIiI1i){return II1I1ll!==IilIiI1i;},'IiSqe':illll1iI(0xfe,'P%Te'),'BrVWG':function(l1liilli,i1lIIIli){return l1liilli(i1lIIIli);}},{title:ii11ii1,UA:ii11l1II,cookie:I111ili,message:li1i11lI}=II1Ii1ii;if(invalidTokensMap[illll1iI(0x229,'ZCEU')](Iil1lIlI))return;let i1l11iII='',iII11II1='';const lIl1ii=TokensMap[illll1iI(0x123,'%99n')](Iil1lIlI);if(lIl1ii)i1l11iII=lIl1ii[illll1iI(0x240,'ZpbH')],iII11II1=lIl1ii[illll1iI(0x1f8,'TDXo')];else try{if(IiIii[illll1iI(0x172,'R[Ks')](IiIii[illll1iI(0xa6,'yX6&')],IiIii[illll1iI(0xda,'ZCEU')])){const IiIlI=IliI1i1l[illll1iI(0x19d,'dJ#$')](':');if(!IiIlI[0x0]||!IiIlI[0x1]||!IiIlI[0x2])return;Ili1iIl=IiIlI[0x0];if(IiIii[illll1iI(0x158,'H!QN')](ilill11i[illll1iI(0x1ed,'ZCEU')],0x20)||!/^[A-Z0-9]*$/[illll1iI(0x209,'ZpbH')](I1Iill1))return;iIiiI11=IiIlI[0x1],iiliIi11=IiIlI[0x2],IiIlI[0x2][illll1iI(0x7c,'tW!@')](IiIii[illll1iI(0x17d,'$eG[')])&&IiIii[illll1iI(0x187,'yI)F')](IiIlI[0x2][illll1iI(0x236,'#$FH')],0x8)&&!IiIlI[0x1][illll1iI(0x1bd,'#$FH')](IiIii[illll1iI(0x10d,'TDXo')])&&(IlllIli=IiIlI[0x2],llllli1I=IiIlI[0x1]),li1l1ll1[illll1iI(0x102,'dNpS')](II1il1i,{'index':null,'venderId':l1iiIil1,'shopName':'','activityId':IliiiiI,'startTime':'','endTime':'','isValid':!![],'rules':[],'minLevel':null,'maxLevel':null});}else{if(Iil1lIlI[illll1iI(0x22d,'gSMa')](':')&&IiIii[illll1iI(0x1d6,'S10E')](Iil1lIlI[illll1iI(0x121,'Qej2')](':')[illll1iI(0x1c3,'ZpbH')],0x3)){if(IiIii[illll1iI(0x131,'ucGP')](IiIii[illll1iI(0xd7,'XDqO')],IiIii[illll1iI(0xbe,'^eui')]))lli11i1=IlIilIiI;else{const lllillI=Iil1lIlI[illll1iI(0x243,'Z*6B')](':');if(!lllillI[0x0]||!lllillI[0x1]||!lllillI[0x2])return;Iil1lIlI=lllillI[0x0];if(IiIii[illll1iI(0x21f,'cPk8')](Iil1lIlI[illll1iI(0x197,'cx^%')],0x20)||!/^[A-Z0-9]*$/[illll1iI(0x85,'6i^)')](Iil1lIlI))return;iII11II1=lllillI[0x1],i1l11iII=lllillI[0x2],lllillI[0x2][illll1iI(0x206,'5)1X')](IiIii[illll1iI(0x241,'tW!@')])&&IiIii[illll1iI(0xcc,'dNpS')](lllillI[0x2][illll1iI(0xfb,'gSMa')],0x8)&&!lllillI[0x1][illll1iI(0xff,'ZSlF')](IiIii[illll1iI(0x1da,'yI)F')])&&(iII11II1=lllillI[0x2],i1l11iII=lllillI[0x1]),TokensMap[illll1iI(0x162,'yI)F')](Iil1lIlI,{'index':null,'venderId':i1l11iII,'shopName':'','activityId':iII11II1,'startTime':'','endTime':'','isValid':!![],'rules':[],'minLevel':null,'maxLevel':null});}}}}catch(ilI1II){return;}if(IiIii[illll1iI(0x23a,'8ltK')](!i1l11iII,!iII11II1))return;const iiiIii1i=Math[illll1iI(0xb0,'c4(!')](IiIii[illll1iI(0x99,'yX6&')](Date[illll1iI(0x20a,'cx^%')](),0x3e8))+illll1iI(0x1a9,'114a');if(invalidTokensMap[illll1iI(0x207,'Jd$i')](Iil1lIlI))return;let Ill1I11l=![],iIil1Ii;await IiIii[illll1iI(0x1d7,'pKPm')](lilIilI1,IiIii[illll1iI(0x19e,'XDqO')]);if($[illll1iI(0x224,'TDXo')])await $[illll1iI(0x1ff,'%99n')]($[illll1iI(0x23e,'a[Ij')]);if(Ill1I11l&&IiIii[illll1iI(0x18a,'6i^)')](signHotMaxRetryTimes,0x0)){if(IiIii[illll1iI(0x153,'XDqO')](IiIii[illll1iI(0x13b,'8ltK')],IiIii[illll1iI(0x1f2,'cPk8')]))iIiili=ili1iIiI;else{let lliiil1i=0x0;while(IiIii[illll1iI(0xa4,'sc5u')](lliiil1i,signHotMaxRetryTimes)){if(IiIii[illll1iI(0x14a,'lM02')](IiIii[illll1iI(0x1d0,'runq')],IiIii[illll1iI(0x13c,'ucGP')])){li11i[illll1iI(0x122,'ZpbH')](''+I1IIii1i+Ii1il11l+illll1iI(0x24c,'%99n')+lll1iIlI+'\x20'+IillIill[illll1iI(0x22a,'cx^%')]);if(!l1iIIIIl[lIliI1I[illll1iI(0x1f1,'yX6&')]])Ii11i1i1=!![];}else{if(invalidTokensMap[illll1iI(0x1ef,'S10E')](Iil1lIlI))return;await IiIii[illll1iI(0x139,'bb(U')](lilIilI1,IiIii[illll1iI(0x142,'P%Te')]);if($[illll1iI(0x212,'R[Ks')])await $[illll1iI(0x1bb,'5)1X')]($[illll1iI(0x1ab,'ucGP')]);if(!Ill1I11l)break;lliiil1i++;}}}}function iIiIiliI(iil1ll1I,IlliiIl1){const IlilI1l=illll1iI;try{if(IiIii[IlilI1l(0xef,'*YUs')](IiIii[IlilI1l(0x22c,'ucGP')],IiIii[IlilI1l(0x167,'cPk8')]))switch(iil1ll1I){case IiIii[IlilI1l(0xd0,'114a')]:if(IiIii[IlilI1l(0x9d,'bb(U')](IlliiIl1[IlilI1l(0xf1,'sc5u')],0xc8)&&IiIii[IlilI1l(0x9c,'runq')](IlliiIl1[IlilI1l(0x191,'mNJt')],!![])){if(IiIii[IlilI1l(0xe2,'#Mu!')](IiIii[IlilI1l(0x180,'114a')],IiIii[IlilI1l(0x186,'Qej2')]))IlI1IliI[IlilI1l(0x157,'R[Ks')](IlilI1l(0x9e,'TDXo')+lII1IIlI+IlilI1l(0x185,'yX6&')+(IilII[IlilI1l(0x103,'yI)F')]||IiIi1ilI));else{const IIlll1ii=[];if(IlliiIl1[IlilI1l(0x17f,'ATJ*')]&&IiIii[IlilI1l(0x1e7,'tW!@')](IlliiIl1[IlilI1l(0x7a,'^eui')][IlilI1l(0x246,'8av4')],0x0))for(const iI1i1IiI of IlliiIl1[IlilI1l(0x1ac,'bb(U')]){if(IiIii[IlilI1l(0x1a8,'ZSlF')](IiIii[IlilI1l(0xbc,'yX6&')],IiIii[IlilI1l(0x11b,'1f!y')])){const iiI1IliI=iI1i1IiI?.[IlilI1l(0x1e6,'R[Ks')]||[];for(const ilI1I1iI of iiI1IliI){const II1IilI=ilI1I1iI?.[IlilI1l(0x13a,'H!QN')],IilI1Iil=ilI1I1iI?.[IlilI1l(0x1f5,'dJ#$')];let illilil1='';switch(II1IilI){case 0x1:illilil1=IiIii[IlilI1l(0xee,'#$FH')];break;case 0x4:illilil1=IilI1Iil+IlilI1l(0x135,'e[hT');break;case 0x6:illilil1=IilI1Iil+IlilI1l(0xa7,'S10E');break;case 0x9:console[IlilI1l(0x1c1,'6i^)')](ilI1I1iI),illilil1=(ilI1I1iI?.[IlilI1l(0xdb,'tW!@')][0x0]?.[IlilI1l(0x16c,'TDXo')]||'未知')+'🎁';break;case 0xa:illilil1=IilI1Iil+IlilI1l(0xd3,'yX6&');break;case 0xe:illilil1=IiIii[IlilI1l(0x94,'S10E')](IilI1Iil,0x64)+IlilI1l(0x8f,'cPk8');break;default:illilil1=IlilI1l(0x168,'cPk8')+II1IilI+'）';}IIlll1ii[IlilI1l(0x151,'mNJt')](illilil1);}}else i11iiIII[IlilI1l(0xb1,'8av4')](llI1iiI1,!![]);}if(IiIii[IlilI1l(0x13d,'Z*6B')](IIlll1ii[IlilI1l(0x15f,'%99n')],0x0)){console[IlilI1l(0x238,'XDqO')](''+ii11ii1+Iil1lIlI+IlilI1l(0xbb,'FqYm')+iIil1Ii+'\x20'+IIlll1ii[IlilI1l(0xc9,'KDoB')]('，'));for(const iIl1liI of IIlll1ii){li1i11lI[IlilI1l(0x1d4,'cx^%')](iIl1liI);}}else console[IlilI1l(0x97,'^eui')](''+ii11ii1+Iil1lIlI+IlilI1l(0x19b,'P%Te')+iIil1Ii+IlilI1l(0xca,'8av4'));Ill1I11l=![];}}else{if(IiIii[IlilI1l(0x24a,'$eG[')](IlliiIl1[IlilI1l(0xf1,'sc5u')],0xc8)){const iIIlli1l=signStatusMessages[IlliiIl1[IlilI1l(0x1f1,'yX6&')]]||IlliiIl1[IlilI1l(0xf1,'sc5u')]+IlilI1l(0x222,'ZpbH');[0x1843da61,0x1843da62,0x192][IlilI1l(0x18c,'yI)F')](IlliiIl1[IlilI1l(0x19a,'%99n')])&&invalidTokensMap[IlilI1l(0x166,'#$FH')](Iil1lIlI,!![]),console[IlilI1l(0x17c,'iy!#')](''+ii11ii1+Iil1lIlI+IlilI1l(0x11d,'P%Te')+iIil1Ii+'\x20'+iIIlli1l),(IiIii[IlilI1l(0x11f,'P%Te')](IlliiIl1[IlilI1l(0x21d,'6i^)')],'-1')||IiIii[IlilI1l(0x11c,'Qej2')](IlliiIl1[IlilI1l(0x109,'114a')],-0x1))&&(Ill1I11l=!![]);}else{if(IlliiIl1[IlilI1l(0x1f0,'2!T8')]){console[IlilI1l(0x14c,'*YUs')](''+ii11ii1+Iil1lIlI+IlilI1l(0x1c6,'8av4')+iIil1Ii+'\x20'+IlliiIl1[IlilI1l(0xeb,'ZSlF')]);if(!signStatusMessages[IlliiIl1[IlilI1l(0x198,'dNpS')]])Ill1I11l=!![];}else console[IlilI1l(0xf3,'cx^%')](''+ii11ii1+Iil1lIlI+IlilI1l(0xce,'*g^7')+iIil1Ii+'\x20'+JSON[IlilI1l(0x134,'5)1X')](IlliiIl1));}}break;}else I111l1li[IlilI1l(0x234,'*g^7')](Iii1IIiI);}catch(i1ll1111){console[IlilI1l(0x157,'R[Ks')](IlilI1l(0x1e8,'8av4')+iil1ll1I+IlilI1l(0x7f,'2!T8')+(i1ll1111[IlilI1l(0x1b2,'S10E')]||i1ll1111));}}async function lilIilI1(llIiiIil){const iii1Il=illll1iI;if(IiIii[iii1Il(0x82,'#$FH')](IiIii[iii1Il(0xf4,'Qej2')],IiIii[iii1Il(0x210,'mNJt')]))l1iiIIiI=0x1;else{let iI1I1lil='',i11Iii1I=null,i1i1l=null,Il11IIl=IiIii[iii1Il(0x247,'P%Te')],lIIiilI1={},iiil11li={};switch(llIiiIil){case IiIii[iii1Il(0x14f,'ATJ*')]:iiil11li={'appId':IiIii[iii1Il(0xc4,'^eui')],'functionId':IiIii[iii1Il(0xf7,'FqYm')],'appid':IiIii[iii1Il(0x12f,'#$FH')],'body':{'token':Iil1lIlI,'venderId':IiIii[iii1Il(0x90,'ATJ*')](parseInt,i1l11iII)||'','activityId':IiIii[iii1Il(0x1fc,'FqYm')](parseInt,iII11II1)||'','type':0x38,'actionType':0x7},'version':IiIii[iii1Il(0x19f,'8av4')],'ua':ii11l1II},lIIiilI1=await H5st[iii1Il(0x1db,'*YUs')](iiil11li),iI1I1lil=IiIii[iii1Il(0x216,'Qej2')],i1i1l=Object[iii1Il(0x84,'#Mu!')]({},lIIiilI1[iii1Il(0x1a3,'2!T8')],{'jsonp':IiIii[iii1Il(0x127,'*g^7')]});break;}const IIIIi11i={'t':iiiIii1i,'loginType':'2'};if(i11Iii1I){if(IiIii[iii1Il(0x227,'bb(U')](IiIii[iii1Il(0x118,'runq')],IiIii[iii1Il(0x100,'P%Te')]))try{const IIiIIill=IiIii[iii1Il(0xd9,'Jd$i')](lIl1lliI,lI1IlII);IiIii[iii1Il(0x125,'pKPm')](IIiIIill,0x0)&&(IIliI1i1[iii1Il(0x8b,'Z*6B')]=IIiIIill);}catch{IilI1II1[iii1Il(0x225,'lxnS')](IiIii[iii1Il(0x10f,'Jd$i')]);}else Object[iii1Il(0x114,'iy!#')](i11Iii1I,IIIIi11i);}i1i1l&&(IiIii[iii1Il(0x10b,'R[Ks')](IiIii[iii1Il(0x1e5,'8ltK')],IiIii[iii1Il(0x203,'lxnS')])?(delete i1li1llI[iii1Il(0x1bc,'XDqO')],delete l1lllii1[iii1Il(0x8a,'yX6&')][IiIii[iii1Il(0x96,'P%Te')]]):Object[iii1Il(0xd4,'$eG[')](i1i1l,IIIIi11i));const IiIli11i={'url':iI1I1lil,'method':Il11IIl,'headers':{'Accept':IiIii[iii1Il(0xc3,'*YUs')],'Accept-Encoding':IiIii[iii1Il(0x106,'114a')],'Accept-Language':IiIii[iii1Il(0x1ba,'TDXo')],'Connection':IiIii[iii1Il(0x170,'e[hT')],'Content-Type':IiIii[iii1Il(0x132,'$eG[')],'Host':IiIii[iii1Il(0x1ea,'^eui')],'Referer':IiIii[iii1Il(0x183,'runq')],'Sec-Fetch-Dest':IiIii[iii1Il(0x11a,'lxnS')],'Sec-Fetch-Mode':IiIii[iii1Il(0x1b5,'cx^%')],'Sec-Fetch-Site':IiIii[iii1Il(0x244,'%99n')],'User-Agent':ii11l1II,'Cookie':I111ili},'params':i1i1l,'data':i11Iii1I,'timeout':0x7530};IiIii[iii1Il(0x1fb,'gSMa')](Il11IIl,IiIii[iii1Il(0xc0,'^eui')])&&(delete IiIli11i[iii1Il(0x1fa,'#$FH')],delete IiIli11i[iii1Il(0x1b1,'TDXo')][IiIii[iii1Il(0xea,'pKPm')]]);const Il1lilI=0x3;let iII1Ii11=0x0,IliIl1li=null,liIlI11l=![];while(IiIii[iii1Il(0x169,'FqYm')](iII1Ii11,Il1lilI)){if(IiIii[iii1Il(0xb6,'XDqO')](IiIii[iii1Il(0x8e,'pKPm')],IiIii[iii1Il(0xfa,'$eG[')]))return;else{iIil1Ii=common[iii1Il(0x208,'ATJ*')](IiIii[iii1Il(0x218,'114a')]);const lIllII1l=await common[iii1Il(0x178,'sc5u')](IiIli11i);if(!lIllII1l[iii1Il(0x1c8,'yI)F')]){IliIl1li=''+ii11ii1+Iil1lIlI+iii1Il(0x152,'lxnS')+lIllII1l[iii1Il(0x20c,'XDqO')]+iii1Il(0x16d,'c4(!'),iII1Ii11++;continue;}if(!lIllII1l[iii1Il(0x15b,'%99n')]){if(IiIii[iii1Il(0x1f9,'$eG[')](IiIii[iii1Il(0xcf,'Qej2')],IiIii[iii1Il(0x10c,'8ltK')]))I1illil=!![];else{IliIl1li=''+ii11ii1+Iil1lIlI+iii1Il(0x1c9,'iy!#'),iII1Ii11++;continue;}}IiIii[iii1Il(0x143,'#Mu!')](iIiIiliI,llIiiIil,lIllII1l[iii1Il(0xa9,'gSMa')]),liIlI11l=![];break;}}IiIii[iii1Il(0x19c,'S10E')](iII1Ii11,Il1lilI)&&(IiIii[iii1Il(0x108,'KDoB')](IiIii[iii1Il(0x1b0,'KDoB')],IiIii[iii1Il(0x242,'FqYm')])?(Illl1IIi=llIiIll1[iii1Il(0x1df,'S10E')],iIlIlIIi=iIIIIii[iii1Il(0x205,'%99n')]):(console[iii1Il(0xc2,'Z*6B')](IliIl1li),liIlI11l&&($[iii1Il(0x12e,'iy!#')]=!![])));}}}async function concMain(ilII1i1I=0x1,I1l11ill,IIIII1iI,iIilIlII,I1Iilll){const Il1llIl1=il1I1l1,IliIl1l={'QwYsK':function(iI11II,iiiIIi1,lli1IIi1){return iI11II(iiiIIi1,lli1IIi1);},'ZXSsW':function(iII1IIi){return iII1IIi();},'IsOEu':function(li1lI11,lII1ii1){return li1lI11===lII1ii1;},'RXXQr':function(Iil1lil1,I1IiI1ii){return Iil1lil1!==I1IiI1ii;},'WMCmK':Il1llIl1(0x1cb,'1f!y'),'nHCMh':Il1llIl1(0xb5,'R[Ks'),'cxQxj':Il1llIl1(0x136,'114a'),'BvRbT':function(Iiii1Iii,i11l11i1){return Iiii1Iii<i11l11i1;},'xFTom':function(iIIllIIl,IiIiIlii){return iIIllIIl>IiIiIlii;},'SlkFB':function(ll1lll11,II1iI1ii){return ll1lll11!==II1iI1ii;},'NexdY':Il1llIl1(0xe1,'$eG['),'RobSQ':function(iI1i1Ii1,lli1iiil){return iI1i1Ii1(lli1iiil);},'sTrtf':function(I1IllI1l,i11I111l){return I1IllI1l>i11I111l;},'EaNaQ':function(ilIiIll,Il1lli1){return ilIiIll!==Il1lli1;},'xcNuY':Il1llIl1(0x1dc,'FqYm'),'SYYra':Il1llIl1(0x18f,'1f!y'),'oeeam':Il1llIl1(0x23f,'8av4'),'aJAXl':function(iIIllI1l,i1ii1ll){return iIIllI1l(i1ii1ll);},'UMVWW':function(lIliIiI1){return lIliIiI1();},'DMsUI':function(lIiiiili,iIlll1lI,lI1lIII1){return lIiiiili(iIlll1lI,lI1lIII1);},'CFAgl':Il1llIl1(0x202,'XDqO'),'XatAP':function(IillI11I,l1l1iiii){return IillI11I===l1l1iiii;},'NsxoS':Il1llIl1(0x110,'pKPm'),'wuZgI':function(iIll1iI1,i1I1iIil){return iIll1iI1(i1I1iIil);},'TGTKr':function(lIII1lil){return lIII1lil();}},II1Il1l1=I1l11ill[Il1llIl1(0xaf,'^eui')](llI1I1il=>llI1I1il),iillll=IliIl1l[Il1llIl1(0x92,'bb(U')](decodeURIComponent,common[Il1llIl1(0x1ae,'c4(!')](IIIII1iI,IliIl1l[Il1llIl1(0xac,'gSMa')])),i1iI=Il1llIl1(0xdd,'#Mu!')+iIilIlII+'】'+iillll+'：',Il1IllI=await common[Il1llIl1(0x14b,'yI)F')](IIIII1iI);if(!Il1IllI&&IliIl1l[Il1llIl1(0x1d8,'#Mu!')](typeof Il1IllI,IliIl1l[Il1llIl1(0x144,'cx^%')])){console[Il1llIl1(0x14c,'*YUs')](i1iI+Il1llIl1(0xdc,'yX6&'));return;}const l1li1Ill=notify[Il1llIl1(0xa2,'P%Te')](iIilIlII,iillll),lll1ilI=common[Il1llIl1(0xf6,'*g^7')](iillll),iIIliIil={'cookie':IIIII1iI,'index':iIilIlII,'title':i1iI,'UA':lll1ilI,'message':l1li1Ill};let lIli11ii=0x0;async function li1I1I(iI1iil){const I11lill=Il1llIl1;await IliIl1l[I11lill(0x22e,'$eG[')](I1Iilll,iI1iil,iIIliIil),lIli11ii--,IliIl1l[I11lill(0xed,'R[Ks')](IiiliI1l);}async function IiiliI1l(){const li1lliII=Il1llIl1,l11li11i={'BgZIe':function(I1Iii111,lll1Ii){const i11li1Ii=ii1IIl1i;return IliIl1l[i11li1Ii(0x20d,'e[hT')](I1Iii111,lll1Ii);},'hFCSC':function(i1lII1i1,iII1lII1){const I1lili1l=ii1IIl1i;return IliIl1l[I1lili1l(0xbf,'e[hT')](i1lII1i1,iII1lII1);},'mMDxQ':IliIl1l[li1lliII(0x138,'TDXo')],'MjLVf':function(lll1llI1,li1IIi){const i11i1iii=li1lliII;return IliIl1l[i11i1iii(0x233,'6i^)')](lll1llI1,li1IIi);}};if(IliIl1l[li1lliII(0x1a4,'FqYm')](IliIl1l[li1lliII(0xf0,'tW!@')],IliIl1l[li1lliII(0x1bf,'gSMa')]))while(IliIl1l[li1lliII(0x201,'S10E')](lIli11ii,ilII1i1I)&&IliIl1l[li1lliII(0x245,'^eui')](II1Il1l1[li1lliII(0xfc,'KDoB')],0x0)){if(IliIl1l[li1lliII(0xde,'8av4')](IliIl1l[li1lliII(0x1ad,'2!T8')],IliIl1l[li1lliII(0x1af,'bb(U')]))Ill111ll[li1lliII(0x21a,'1f!y')](li1lliII(0xb3,'*YUs')+II1I1liI);else{const ilI1iIi=II1Il1l1[li1lliII(0x115,'FqYm')]();lIli11ii++,await IliIl1l[li1lliII(0xfd,'tW!@')](li1I1I,ilI1iIi);}}else{if(I1li11Il[li1lliII(0x1ec,'cPk8')](':')&&l11li11i[li1lliII(0x83,'yI)F')](iIiI11l[li1lliII(0x1e9,'8ltK')](':')[li1lliII(0x1fe,'8ltK')],0x3)){const lii1llIi=i1I1iliI[li1lliII(0xe0,'ZSlF')](':');if(!lii1llIi[0x0]||!lii1llIi[0x1]||!lii1llIi[0x2])return;IlIiIIli=lii1llIi[0x0];if(l11li11i[li1lliII(0x1ee,'%99n')](i1l1iI1I[li1lliII(0x7d,'tW!@')],0x20)||!/^[A-Z0-9]*$/[li1lliII(0x209,'ZpbH')](IliIlIIi))return;I1iiIiil=lii1llIi[0x1],I1i1l111=lii1llIi[0x2],lii1llIi[0x2][li1lliII(0x88,'2!T8')](l11li11i[li1lliII(0x1e4,'tW!@')])&&l11li11i[li1lliII(0x163,'Z*6B')](lii1llIi[0x2][li1lliII(0x181,'pKPm')],0x8)&&!lii1llIi[0x1][li1lliII(0x95,'1f!y')](l11li11i[li1lliII(0xc1,'^eui')])&&(Ill1IlIl=lii1llIi[0x2],iilI1I11=lii1llIi[0x1]),ilIi1li[li1lliII(0x1cf,'#Mu!')](Il1Iilll,{'index':null,'venderId':II11lIl,'shopName':'','activityId':I1l1l1I,'startTime':'','endTime':'','isValid':!![],'rules':[],'minLevel':null,'maxLevel':null});}}}const II1I1llI=Math[Il1llIl1(0xd6,'lxnS')](II1Il1l1[Il1llIl1(0x1c5,'R[Ks')],ilII1i1I),iiIiI1Il=[];for(let iIiIlI1i=0x0;IliIl1l[Il1llIl1(0x23b,'dJ#$')](iIiIlI1i,II1I1llI);iIiIlI1i++){const IilIl1I1=II1Il1l1[Il1llIl1(0x14e,'XDqO')]();lIli11ii++,iiIiI1Il[Il1llIl1(0x217,'FqYm')](IliIl1l[Il1llIl1(0x1de,'S10E')](li1I1I,IilIl1I1));}await Promise[Il1llIl1(0x22b,'Z*6B')](iiIiI1Il),IliIl1l[Il1llIl1(0x177,'2!T8')](IiiliI1l),await new Promise(l11lii11=>{const iIiII1Il=Il1llIl1,il1iIII1={'MzbPN':function(IilIlIiI,ili1IIii){const iiliIil=ii1IIl1i;return IliIl1l[iiliIil(0x17e,'ZCEU')](IilIlIiI,ili1IIii);},'FfmpN':function(IilIil1I,iillili1){const lIlIIiII=ii1IIl1i;return IliIl1l[lIlIIiII(0xc5,'a[Ij')](IilIil1I,iillili1);},'lFkoW':function(iIIlIi11,Ii11il11){const li1l1III=ii1IIl1i;return IliIl1l[li1l1III(0x1d1,'ATJ*')](iIIlIi11,Ii11il11);},'CqZmp':function(I1liIII,ii1iIlI1){const lI11lIii=ii1IIl1i;return IliIl1l[lI11lIii(0x248,'ucGP')](I1liIII,ii1iIlI1);},'XwaQR':IliIl1l[iIiII1Il(0x194,'ucGP')],'UhWsU':IliIl1l[iIiII1Il(0x119,'riPh')],'OyrRO':IliIl1l[iIiII1Il(0x1c0,'riPh')],'PuYxf':function(iIi1llIl,IIiIi1ll){const l1IIIlIl=iIiII1Il;return IliIl1l[l1IIIlIl(0x104,'bb(U')](iIi1llIl,IIiIi1ll);},'FrqWt':function(llllIIIl){const I1ll1I1I=iIiII1Il;return IliIl1l[I1ll1I1I(0x1a1,'ZpbH')](llllIIIl);}},l1iiIl11=IliIl1l[iIiII1Il(0x10e,'$eG[')](setInterval,()=>{const i1il1il1=iIiII1Il,li1lIil={'SKMjV':function(iii11ill,llIIlIlI){const ii1i11ll=ii1IIl1i;return il1iIII1[ii1i11ll(0x1f6,'%99n')](iii11ill,llIIlIlI);},'WCxKg':function(lIlI111,ll1lIli1){const iliiiI=ii1IIl1i;return il1iIII1[iliiiI(0x1e1,'iy!#')](lIlI111,ll1lIli1);},'fiXNp':function(lii1li1l,ii1I1i11){const llIiI1I1=ii1IIl1i;return il1iIII1[llIiI1I1(0xcd,'Z*6B')](lii1li1l,ii1I1i11);}};if(il1iIII1[i1il1il1(0xb9,'ATJ*')](il1iIII1[i1il1il1(0x193,'dJ#$')],il1iIII1[i1il1il1(0xe8,'114a')])){const i1iii1ll=li1lIil[i1il1il1(0x140,'sc5u')](il1iiIIi,iiili11l);li1lIil[i1il1il1(0x150,'iy!#')](i1iii1ll,0x0)&&li1lIil[i1il1il1(0x1c4,'iy!#')](i1iii1ll,0x1)&&(iI1ii1l=i1iii1ll);}else il1iIII1[i1il1il1(0xf8,'dNpS')](lIli11ii,0x0)&&(il1iIII1[i1il1il1(0x1d5,'KDoB')](il1iIII1[i1il1il1(0x156,'#Mu!')],il1iIII1[i1il1il1(0x86,'a[Ij')])?l11Iil1i[i1il1il1(0x18d,'gSMa')]=!![]:(il1iIII1[i1il1il1(0x1b3,'tW!@')](clearInterval,l1iiIl11),il1iIII1[i1il1il1(0x105,'#$FH')](l11lii11)));},0x64);});}var version_ = 'jsjiami.com.v7';

// prettier-ignore
function Env(t,e){"undefined"!=typeof process&&JSON.stringify(process.env).indexOf("GITHUB")>-1&&process.exit(0);class s{constructor(t){this.env=t}send(t,e="GET"){t="string"==typeof t?{url:t}:t;let s=this.get;return"POST"===e&&(s=this.post),new Promise((e,i)=>{s.call(this,t,(t,s,r)=>{t?i(t):e(s)})})}get(t){return this.send.call(this.env,t)}post(t){return this.send.call(this.env,t,"POST")}}return new class{constructor(t,e){this.name=t,this.http=new s(this),this.data=null,this.dataFile="box.dat",this.logs=[],this.isMute=!1,this.isNeedRewrite=!1,this.logSeparator="\n",this.startTime=(new Date).getTime(),Object.assign(this,e),this.log("",`🔔${this.name}, 开始!`)}isNode(){return"undefined"!=typeof module&&!!module.exports}isQuanX(){return"undefined"!=typeof $task}isSurge(){return"undefined"!=typeof $httpClient&&"undefined"==typeof $loon}isLoon(){return"undefined"!=typeof $loon}toObj(t,e=null){try{return JSON.parse(t)}catch{return e}}toStr(t,e=null){try{return JSON.stringify(t)}catch{return e}}getjson(t,e){let s=e;const i=this.getdata(t);if(i)try{s=JSON.parse(this.getdata(t))}catch{}return s}setjson(t,e){try{return this.setdata(JSON.stringify(t),e)}catch{return!1}}getScript(t){return new Promise(e=>{this.get({url:t},(t,s,i)=>e(i))})}runScript(t,e){return new Promise(s=>{let i=this.getdata("@chavy_boxjs_userCfgs.httpapi");i=i?i.replace(/\n/g,"").trim():i;let r=this.getdata("@chavy_boxjs_userCfgs.httpapi_timeout");r=r?1*r:20,r=e&&e.timeout?e.timeout:r;const[o,h]=i.split("@"),n={url:`http://${h}/v1/scripting/evaluate`,body:{script_text:t,mock_type:"cron",timeout:r},headers:{"X-Key":o,Accept:"*/*"}};this.post(n,(t,e,i)=>s(i))}).catch(t=>this.logErr(t))}loaddata(){if(!this.isNode())return{};{this.fs=this.fs?this.fs:require("fs"),this.path=this.path?this.path:require("path");const t=this.path.resolve(this.dataFile),e=this.path.resolve(process.cwd(),this.dataFile),s=this.fs.existsSync(t),i=!s&&this.fs.existsSync(e);if(!s&&!i)return{};{const i=s?t:e;try{return JSON.parse(this.fs.readFileSync(i))}catch(t){return{}}}}}writedata(){if(this.isNode()){this.fs=this.fs?this.fs:require("fs"),this.path=this.path?this.path:require("path");const t=this.path.resolve(this.dataFile),e=this.path.resolve(process.cwd(),this.dataFile),s=this.fs.existsSync(t),i=!s&&this.fs.existsSync(e),r=JSON.stringify(this.data);s?this.fs.writeFileSync(t,r):i?this.fs.writeFileSync(e,r):this.fs.writeFileSync(t,r)}}lodash_get(t,e,s){const i=e.replace(/\[(\d+)\]/g,".$1").split(".");let r=t;for(const t of i)if(r=Object(r)[t],void 0===r)return s;return r}lodash_set(t,e,s){return Object(t)!==t?t:(Array.isArray(e)||(e=e.toString().match(/[^.[\]]+/g)||[]),e.slice(0,-1).reduce((t,s,i)=>Object(t[s])===t[s]?t[s]:t[s]=Math.abs(e[i+1])>>0==+e[i+1]?[]:{},t)[e[e.length-1]]=s,t)}getdata(t){let e=this.getval(t);if(/^@/.test(t)){const[,s,i]=/^@(.*?)\.(.*?)$/.exec(t),r=s?this.getval(s):"";if(r)try{const t=JSON.parse(r);e=t?this.lodash_get(t,i,""):e}catch(t){e=""}}return e}setdata(t,e){let s=!1;if(/^@/.test(e)){const[,i,r]=/^@(.*?)\.(.*?)$/.exec(e),o=this.getval(i),h=i?"null"===o?null:o||"{}":"{}";try{const e=JSON.parse(h);this.lodash_set(e,r,t),s=this.setval(JSON.stringify(e),i)}catch(e){const o={};this.lodash_set(o,r,t),s=this.setval(JSON.stringify(o),i)}}else s=this.setval(t,e);return s}getval(t){return this.isSurge()||this.isLoon()?$persistentStore.read(t):this.isQuanX()?$prefs.valueForKey(t):this.isNode()?(this.data=this.loaddata(),this.data[t]):this.data&&this.data[t]||null}setval(t,e){return this.isSurge()||this.isLoon()?$persistentStore.write(t,e):this.isQuanX()?$prefs.setValueForKey(t,e):this.isNode()?(this.data=this.loaddata(),this.data[e]=t,this.writedata(),!0):this.data&&this.data[e]||null}initGotEnv(t){this.got=this.got?this.got:require("got"),this.cktough=this.cktough?this.cktough:require("tough-cookie"),this.ckjar=this.ckjar?this.ckjar:new this.cktough.CookieJar,t&&(t.headers=t.headers?t.headers:{},void 0===t.headers.Cookie&&void 0===t.cookieJar&&(t.cookieJar=this.ckjar))}get(t,e=(()=>{})){t.headers&&(delete t.headers["Content-Type"],delete t.headers["Content-Length"]),this.isSurge()||this.isLoon()?(this.isSurge()&&this.isNeedRewrite&&(t.headers=t.headers||{},Object.assign(t.headers,{"X-Surge-Skip-Scripting":!1})),$httpClient.get(t,(t,s,i)=>{!t&&s&&(s.body=i,s.statusCode=s.status),e(t,s,i)})):this.isQuanX()?(this.isNeedRewrite&&(t.opts=t.opts||{},Object.assign(t.opts,{hints:!1})),$task.fetch(t).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>e(t))):this.isNode()&&(this.initGotEnv(t),this.got(t).on("redirect",(t,e)=>{try{if(t.headers["set-cookie"]){const s=t.headers["set-cookie"].map(this.cktough.Cookie.parse).toString();s&&this.ckjar.setCookieSync(s,null),e.cookieJar=this.ckjar}}catch(t){this.logErr(t)}}).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>{const{message:s,response:i}=t;e(s,i,i&&i.body)}))}post(t,e=(()=>{})){if(t.body&&t.headers&&!t.headers["Content-Type"]&&(t.headers["Content-Type"]="application/x-www-form-urlencoded"),t.headers&&delete t.headers["Content-Length"],this.isSurge()||this.isLoon())this.isSurge()&&this.isNeedRewrite&&(t.headers=t.headers||{},Object.assign(t.headers,{"X-Surge-Skip-Scripting":!1})),$httpClient.post(t,(t,s,i)=>{!t&&s&&(s.body=i,s.statusCode=s.status),e(t,s,i)});else if(this.isQuanX())t.method="POST",this.isNeedRewrite&&(t.opts=t.opts||{},Object.assign(t.opts,{hints:!1})),$task.fetch(t).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>e(t));else if(this.isNode()){this.initGotEnv(t);const{url:s,...i}=t;this.got.post(s,i).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>{const{message:s,response:i}=t;e(s,i,i&&i.body)})}}time(t,e=null){const s=e?new Date(e):new Date;let i={"M+":s.getMonth()+1,"d+":s.getDate(),"H+":s.getHours(),"m+":s.getMinutes(),"s+":s.getSeconds(),"q+":Math.floor((s.getMonth()+3)/3),S:s.getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(s.getFullYear()+"").substr(4-RegExp.$1.length)));for(let e in i)new RegExp("("+e+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?i[e]:("00"+i[e]).substr((""+i[e]).length)));return t}msg(e=t,s="",i="",r){const o=t=>{if(!t)return t;if("string"==typeof t)return this.isLoon()?t:this.isQuanX()?{"open-url":t}:this.isSurge()?{url:t}:void 0;if("object"==typeof t){if(this.isLoon()){let e=t.openUrl||t.url||t["open-url"],s=t.mediaUrl||t["media-url"];return{openUrl:e,mediaUrl:s}}if(this.isQuanX()){let e=t["open-url"]||t.url||t.openUrl,s=t["media-url"]||t.mediaUrl;return{"open-url":e,"media-url":s}}if(this.isSurge()){let e=t.url||t.openUrl||t["open-url"];return{url:e}}}};if(this.isMute||(this.isSurge()||this.isLoon()?$notification.post(e,s,i,o(r)):this.isQuanX()&&$notify(e,s,i,o(r))),!this.isMuteLog){let t=["","==============📣系统通知📣=============="];t.push(e),s&&t.push(s),i&&t.push(i),console.log(t.join("\n")),this.logs=this.logs.concat(t)}}log(...t){t.length>0&&(this.logs=[...this.logs,...t]),console.log(t.join(this.logSeparator))}logErr(t,e){const s=!this.isSurge()&&!this.isQuanX()&&!this.isLoon();s?this.log("",`❗️${this.name}, 错误!`,t.stack):this.log("",`❗️${this.name}, 错误!`,t)}wait(t){return new Promise(e=>setTimeout(e,t))}done(t={}){const e=(new Date).getTime(),s=(e-this.startTime)/1e3;this.log("",`🔔${this.name}, 结束! 🕛 ${s} 秒`),this.log(),(this.isSurge()||this.isQuanX()||this.isLoon())&&$done(t)}}(t,e)}
